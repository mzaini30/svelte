const C=e=>{let c;return(...o)=>{if(!c)return c=!0,e(...o)}},h=e=>{const c=[],t=o=>(c.push(o),()=>c.splice(c.indexOf(o),1));return t.hooks=c,t.run=e(c),t.runOnce=C(e(c)),t.next=o=>{const n=t((...r)=>{o(...r),n()})},t},x=e=>h(c=>(t,...o)=>c.reduce((n,r)=>n!=null&&n.then?n.then(s=>r(s,...o)):r(n,...o),t)),y=e=>h(c=>(t,...o)=>c.reduce((n,r)=>n!=null&&n.then?n.then(s=>r(t,...o)):r(t,...o),t)),O=e=>h(c=>(t,...o)=>c.reduce((n,r)=>n!=null&&n.then?n.then(s=>s&&r(t,...o)):n&&r(t,...o),t||!0));export{O as a,x as b,y as c};
